# CoVerD: Community-based Vertex Defense against Crawling Adversaries
This is the code for our paper ```CoVerD``` that appeared in the proceedings of Complex Networks, 2021 ([Link](https://www.springerprofessional.de/en/coverd-community-based-vertex-defense-against-crawling-adversari/19984022)).

## Scripts under ```src```:
* ```data_preprocessing.py```: Run this script seperately from the rest of the repo to prepare the dataset used by ```main.py```.
* ```coverd.py```: The code for our algorithm, CoVerD. This script is used by ```main.py```.
* ```attacker.py```: The local and global perturbation baselines that we have used in the paper to benchmark CoVerD. This script is used by ```main.py```.
* ```utils.py```: The helper functions used througout the repository.
* ```main.py```: The main script that invokes all the processing done by the modules above. To reproduce our experiments, you have to run this script as explained below.

## Data
* ```data/raw```: All the dataset are available from [SNAP](https://snap.stanford.edu/data/) repository. The original datasets are processed using ```data_preprocessing.py``` into pickled files. This data will later be used to run a defender and/or attacker on.
* ```data/defended```: The defended graphs after running all our defender baselines on the raw datasets. Only ```lastfm``` data is included in this repository as a sample. The other datasets can be generated by running ```main.py``` on corresponding data under ```data/raw```.

## Results
A sample result of our experiments in the paper for the ```lastfm``` dataset is included under ```/results``` directory. 

## Usage:

### Arguments
The implemented attributes for calling ```main.py``` are as follows,
* ```--name```: The name of the dataset.
* ```--mode```: The mode of action. Possible options are ```attack``` and ```defense```.
* ```--defend```: The set of defenders to use. The implemented defenders are ```coverd```, ```roam```, ```greedy```, ```nothing``` (na\"ive baseline), ```betweenness```, ```pagerank```, and ```maxdeg```.
* ```--attack```: The set of attackers to use. The implemented attackers are ```bfs```, ```dfs```, and ```rw``` (random walk).
* ```--dpath```: The path to read the data for defender.
* ```--apath```: The path to read the data for attacker.
* ```--dsave2```: The path to save the defense results in.
* ```--asave2```: The path to save the attack results in.

### Sample Usage
#### Defense mode 
```
python main.py --mode defense --defend coverd roam nothing --name lastfm 
```
#### Attack mode
```
python main.py --mode attack --attack bfs dfs --name lastfm 
```

